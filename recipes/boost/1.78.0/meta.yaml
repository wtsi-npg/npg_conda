{% set version = "1.78.0" %}
{% set alt_version = "1_78_0" %}
{% set sha256 = "8681f175d4bdb26c52222665793eef08490d7758529330f98d3b29dd0735bccc" %}

package:
  name: boost
  version: "{{ version }}"

about:
  home: "http://www.boost.org"
  license: Other
  summary: "Free peer-reviewed portable C++ source libraries."

build:
  number: 0

source:
  url: https://boostorg.jfrog.io/artifactory/main/release/{{ version }}/source/boost_{{ alt_version }}.tar.bz2
  fn: boost_{{ alt_version }}.tar.bz2
  sha256: {{ sha256 }}

requirements:
  build:
    - {{ compiler("cxx") }}
    - make
  host:
    - libbz2-dev
    - liblzma-dev
    - libz-dev
  run:
    - libbz2
    - liblzma
    - libz

outputs:
  - name: libboost
    version: {{ version }}
    requirements:
      build:
        - {{ compiler("cxx") }}
        - make
      host:
        - libbz2-dev
        - liblzma-dev
        - libz-dev
      run:
        - libbz2
        - liblzma
        - libz
    files:
      - lib/libboost*.so*
    test:
      commands:
        - test -h ${PREFIX}/lib/libboost_system.so

  - name: libboost-dev
    version: {{ version }}
    requirements:
      run:
        - {{ pin_subpackage("libboost", exact=True) }}
    files:
      - include/boost
      - lib/cmake
      - lib/libboost*.a
    test:
      commands:
        - test -f ${PREFIX}/include/boost/config.hpp
